generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  id       Int       @id @default(autoincrement())
  name     String    @unique
  password String
  email    String    @unique
  role     String
  routes   Route[]
  receipts Receipt[]
}

model Customer {
  id           Int           @id @default(autoincrement())
  name         String
  address      String
  phoneNumber  String
  email        String
  price        Float
  notes        String?
  appointments Appointment[]
  receipts     Receipt[]
}

model Receipt {
  id          Int      @id @default(autoincrement())
  date        DateTime @default(now())
  amount      Float
  description String?
  customerId  Int
  userId      Int
  customer    Customer @relation(fields: [customerId], references: [id])
  user        User     @relation(fields: [userId], references: [id])
}

model Route {
  id           Int           @id @default(autoincrement())
  name         String
  description  String?
  userId       Int
  user         User          @relation(fields: [userId], references: [id])
  appointments Appointment[]
}

model Appointment {
  id         Int      @id @default(autoincrement())
  date       DateTime @default(now())
  status     String
  customerId Int
  routeId    Int
  serviceId  Int
  customer   Customer @relation(fields: [customerId], references: [id])
  route      Route    @relation(fields: [routeId], references: [id])
}
